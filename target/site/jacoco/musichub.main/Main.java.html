<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jMusicHubV2</a> &gt; <a href="index.source.html" class="el_package">musichub.main</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">package musichub.main;

import java.util.Collection;
import java.util.Collections;
import java.util.LinkedList;
import java.util.List;
import java.util.Scanner;

import musichub.business.IJouable;
import musichub.business.Album;
import musichub.business.Categorie;
import musichub.business.Chanson;
import musichub.business.Genre;
import musichub.business.Langue;
import musichub.business.LivreAudio;
import musichub.business.Playlist;
import musichub.util.XmlReader;
import musichub.util.XmlWriter;

/**
 * classe publique Main qui est le coeur du fonctionnement de l'application. Elle contient tout le code nécessaire au fonctionnement des commandes.
 * OPTIMISATION : Nous aurions pu créér une classe Commandes.java à part avec les méthodes privées qui suivent comme addChansonToPlaylist, newChansons, etc mais nous n'avons malheureusement pas eu le temps de le faire.
 * @param chansons privé, liste de chansons
 * @param livresAudio privé, liste de livres audio
 * @param albums privé, liste d'albums
 * @param playlists privé, liste de playlists
 *
 * les premières methodes sont précisées plus tard.
 * @author Sarra MADAD, Nour El-Houda LOUATY.
 */

public class Main { 
    List&lt;Chanson&gt; chansons;
    List&lt;LivreAudio&gt; livresAudio;
    List&lt;Album&gt; albums;
    List&lt;Playlist&gt; playlists;

/**
 * constructeur du Main
 * @param reader permet de lire dans un fichier XML
 * @param chansons assigne les chansons contenues dans le fichier XML &quot;chansons.xml&quot; à la liste chansons via la méthode getChansons de la classe XmlReader
 * @param livresAudio assigne les livres audio contenus dans le fichier XML &quot;livresaudio.xml&quot; à la liste livresAudio via la méthode getLivresAudio de la classe XmlReader
 * @param albums assigne les albums contenus dans le fichier XML &quot;albums.xml&quot; à la liste albums via la méthode getAlbums de la classe XmlReader
 * @param playlists assigne les playlists contenues dans le fichier XML &quot;playlists.xml&quot; à la liste playlists via la méthode getPlaylists de la classe XmlReader
 * @see XmlReader
 * 
 * les méthodes suivantes sont précisées plus tard.
 * 
 * @author Sarra MADAD, Nour El-Houda LOUATY.
 */
<span class="nc" id="L51">    public Main() throws Exception { </span>
<span class="nc" id="L52">        XmlReader reader = new XmlReader();</span>

<span class="nc" id="L54">        this.chansons = reader.getChansons();</span>
<span class="nc" id="L55">        this.livresAudio = reader.getLivresAudio();</span>
<span class="nc" id="L56">        this.albums = reader.getAlbums();</span>
<span class="nc" id="L57">        this.playlists = reader.getPlaylists();</span>
<span class="nc" id="L58">    }</span>

/**
 * méthode privée newAlbum qui permet de créer un nouvel album en récupérant des données saisies par l'utilisateur. Elle est appelée pour la commande &quot;a&quot;.
 * @return elle retourne donc un album (on fera appel à son contructeur juste avant)
 */
    private Album newAlbum(Scanner sc) {
        //Caratéristiques de l'album
<span class="nc" id="L66">        System.out.print(&quot;\nEntrez un id (integer) $&gt; &quot;);</span>
<span class="nc" id="L67">        int id = sc.nextInt();</span>
<span class="nc" id="L68">        sc.nextLine();</span>
<span class="nc" id="L69">        System.out.print(&quot;Entrez un titre (string) $&gt; &quot;);</span>
<span class="nc" id="L70">        String titre = sc.nextLine();</span>
<span class="nc" id="L71">        System.out.print(&quot;Entrez une durée (secondes) $&gt; &quot;);</span>
<span class="nc" id="L72">        int duree = sc.nextInt();</span>
<span class="nc" id="L73">        sc.nextLine();</span>
<span class="nc" id="L74">        System.out.print(&quot;Entrez un artiste (string) $&gt; &quot;);</span>
<span class="nc" id="L75">        String artiste = sc.nextLine();</span>
<span class="nc" id="L76">        System.out.print(&quot;Entrez une date (aaaa-mm-jj) $&gt; &quot;);</span>
<span class="nc" id="L77">        String date = sc.nextLine();</span>
<span class="nc" id="L78">        System.out.println();</span>

<span class="nc" id="L80">        Album album = new Album(id, titre, duree, null, artiste, date);</span>
        
<span class="nc" id="L82">        return album;</span>
    }

/**
 * méthode privée addChansonToPlaylist qui permet d'ajouter une chanson existante à une playlist en récupérant des données saisies par l'utilisateur. Elle est appelée pour la commande &quot;p&quot;.
 * @return elle retourne donc la chanson ajoutée
 */
    private Chanson addChansonToPlaylist(Scanner sc) {
<span class="nc" id="L90">        System.out.println(&quot;\nVoici vos chansons actuelles :&quot;);</span>
<span class="nc" id="L91">        System.out.println(this.chansons);</span>
<span class="nc" id="L92">        System.out.print(&quot;\nQuelle chanson souhaitez-vous ajouter à votre playlist (id de la chanson) ? $&gt; &quot;);</span>
<span class="nc" id="L93">        int idChanson = sc.nextInt();</span>
<span class="nc" id="L94">        sc.nextLine();</span>

<span class="nc" id="L96">        Chanson chanson = null;</span>
<span class="nc bnc" id="L97" title="All 2 branches missed.">        for (int i = 0; i &lt; this.chansons.size(); i++) {</span>
<span class="nc bnc" id="L98" title="All 2 branches missed.">            if (this.chansons.get(i).getId() == idChanson) {</span>
<span class="nc" id="L99">                chanson = this.chansons.get(i);</span>
<span class="nc" id="L100">                System.out.println(&quot;\nVoici la chanson selectionnée : &quot;);</span>
<span class="nc" id="L101">                System.out.println(chanson);</span>
            }
        }

<span class="nc" id="L105">        return chanson;</span>
    }
/**
 * méthode privée addLivreAudioToPlaylist qui permet d'ajouter un livre audio existant à une playlist en récupérant des données saisies par l'utilisateur. Elle est appelée pour la commande &quot;p&quot;.
 * @return elle retourne donc un livre audio ajoutée
 */
    private LivreAudio addLivreAudioToPlaylist(Scanner sc) {
<span class="nc" id="L112">        System.out.println(&quot;\nVoici vos livres audio actuels :&quot;);</span>
<span class="nc" id="L113">        System.out.println(this.livresAudio);</span>
<span class="nc" id="L114">        System.out.print(&quot;\nQuelle livre audio souhaitez-vous ajouter à votre playlist (id du livre audio) ? $&gt; &quot;);</span>
<span class="nc" id="L115">        int idLivreAudio = sc.nextInt();</span>
<span class="nc" id="L116">        sc.nextLine();</span>

<span class="nc" id="L118">        LivreAudio livreaudio = null;</span>
<span class="nc bnc" id="L119" title="All 2 branches missed.">        for (int i = 0; i &lt; this.livresAudio.size(); i++) {</span>
<span class="nc bnc" id="L120" title="All 2 branches missed.">            if (this.livresAudio.get(i).getId() == idLivreAudio) {</span>
<span class="nc" id="L121">                livreaudio = this.livresAudio.get(i);</span>
<span class="nc" id="L122">                System.out.println(&quot;\nVoici le livre audio selectionné : &quot;);</span>
<span class="nc" id="L123">                System.out.println(livreaudio);</span>
            }
        }

<span class="nc" id="L127">        return livreaudio;</span>
    }

/**
 * méthode privée newPlaylist qui permet de créer une nouvelle playlist en récupérant des données saisies par l'utilisateur et d'y ajouter des éléments (chansons ou livres audio) existants à l'aide de choix. Elle est appelée pour la commande &quot;p&quot;.
 * @return elle retourne donc une playlist (on fera appel à son contructeur juste avant)
 */    
    private Playlist newPlaylist(Scanner sc) {
        //Caratéristiques de la playlist
<span class="nc" id="L136">        System.out.print(&quot;\nEntrez un id (integer) $&gt; &quot;);</span>
<span class="nc" id="L137">        int id = sc.nextInt();</span>
<span class="nc" id="L138">        sc.nextLine();</span>
<span class="nc" id="L139">        System.out.print(&quot;Entrez un nom (string) $&gt; &quot;);</span>
<span class="nc" id="L140">        String nom = sc.nextLine();</span>
<span class="nc" id="L141">        System.out.println();</span>


        //Ajout d'élément à la playlist
<span class="nc" id="L145">        int choix = 1;</span>
<span class="nc" id="L146">        Collection&lt;IJouable&gt; elements = new LinkedList&lt;IJouable&gt; ();</span>
<span class="nc bnc" id="L147" title="All 4 branches missed.">        while (choix == 1 || choix == 2) {</span>
<span class="nc" id="L148">            System.out.println(&quot;\nSouhaitez-vous ajouter des elements à votre playlist ?&quot;);</span>
<span class="nc" id="L149">            System.out.println(&quot;1. Ajouter une chanson&quot;);</span>
<span class="nc" id="L150">            System.out.println(&quot;2. Ajouter un livre audio&quot;);</span>
<span class="nc" id="L151">            System.out.println(&quot;3. Ne plus rien ajouter&quot;);</span>

<span class="nc" id="L153">            System.out.print(&quot;\nVotre choix $&gt; &quot;);</span>
<span class="nc" id="L154">            choix = sc.nextInt();</span>
<span class="nc" id="L155">            sc.nextLine();</span>

<span class="nc bnc" id="L157" title="All 3 branches missed.">            switch (choix) {</span>
                case 1:
<span class="nc" id="L159">                    System.out.println(&quot;Ajoute une chanson à ta playlist&quot;);</span>
<span class="nc" id="L160">                    elements.add(this.addChansonToPlaylist(sc));</span>
<span class="nc" id="L161">                    break;</span>
                case 2:
<span class="nc" id="L163">                    System.out.println(&quot;Ajoute un livre audio à ta playlist&quot;);</span>
<span class="nc" id="L164">                    elements.add(this.addLivreAudioToPlaylist(sc));</span>
<span class="nc" id="L165">                    break;</span>
                default:
<span class="nc" id="L167">                    System.out.println(&quot;Félicitation ! Vous avez terminé d'ajouter des éléments à votre playlist&quot;);</span>
<span class="nc" id="L168">                    break;</span>
            }
        }

        //Création de la playlist
<span class="nc" id="L173">        Playlist playlist = new Playlist(id, nom, elements);</span>

<span class="nc" id="L175">        return playlist;</span>
    }

/**
 * méthode privée newChanson qui permet de créer une nouvelle chanson en récupérant des données saisies par l'utilisateur. Elle est appelée pour la commande &quot;c&quot;.
 * @return elle retourne donc une chanson (on fera appel à son contructeur juste avant)
 */
    private Chanson newChanson(Scanner sc) {
        //Caratéristiques de la chanson
<span class="nc" id="L184">        System.out.print(&quot;\nEntrez un id (integer) $&gt; &quot;);</span>
<span class="nc" id="L185">        int id = sc.nextInt();</span>
<span class="nc" id="L186">        sc.nextLine();</span>
<span class="nc" id="L187">        System.out.print(&quot;Entrez un titre (string) $&gt; &quot;);</span>
<span class="nc" id="L188">        String titre = sc.nextLine();</span>
<span class="nc" id="L189">        System.out.print(&quot;Entrez une durée (secondes) $&gt; &quot;);</span>
<span class="nc" id="L190">        int duree = sc.nextInt();</span>
<span class="nc" id="L191">        sc.nextLine();</span>
<span class="nc" id="L192">        System.out.print(&quot;Entrez un artiste (string) $&gt; &quot;);</span>
<span class="nc" id="L193">        String artiste = sc.nextLine();</span>
<span class="nc" id="L194">        System.out.print(&quot;Entrez un contenu (string) $&gt; &quot;);</span>
<span class="nc" id="L195">        String contenu = sc.nextLine();</span>
<span class="nc" id="L196">        System.out.print(&quot;Entrez un genre (JAZZ, CLASSIQUE, HIPHOP, ROCK, POP, RAP) $&gt; &quot;);</span>
<span class="nc" id="L197">        Genre genre = Genre.valueOf(sc.nextLine());</span>
<span class="nc" id="L198">        System.out.print(&quot;Entrez une date (aaaa-mm-jj) $&gt; &quot;);</span>
<span class="nc" id="L199">        String date = sc.nextLine();</span>
<span class="nc" id="L200">        System.out.println();</span>

<span class="nc" id="L202">        Chanson chanson = new Chanson(id, titre, duree, artiste, contenu, genre, date);</span>

<span class="nc" id="L204">        return chanson;</span>
    }

/**
 * méthode privée newLivreAudio qui permet de créer un nouveau livre audio. Elle est appelée pour la commande &quot;l&quot;.
 * @return elle retourne donc un livre audio (on fera appel à son contructeur juste avant)
 */
    private LivreAudio newLivreAudio(Scanner sc) {
        //Caratéristiques du livre audio
<span class="nc" id="L213">        System.out.print(&quot;\nEntrez un id (integer) $&gt; &quot;);</span>
<span class="nc" id="L214">        int id = sc.nextInt();</span>
<span class="nc" id="L215">        sc.nextLine();</span>
<span class="nc" id="L216">        System.out.print(&quot;Entrez un titre (string) $&gt; &quot;);</span>
<span class="nc" id="L217">        String titre = sc.nextLine();</span>
<span class="nc" id="L218">        System.out.print(&quot;Entrez une durée (secondes) $&gt; &quot;);</span>
<span class="nc" id="L219">        int duree = sc.nextInt();</span>
<span class="nc" id="L220">        sc.nextLine();</span>
<span class="nc" id="L221">        System.out.print(&quot;Entrez un auteur (string) $&gt; &quot;);</span>
<span class="nc" id="L222">        String auteur = sc.nextLine();</span>
<span class="nc" id="L223">        System.out.print(&quot;Entrez un contenu (string) $&gt; &quot;);</span>
<span class="nc" id="L224">        String contenu = sc.nextLine();</span>
<span class="nc" id="L225">        System.out.print(&quot;Entrez une langue (FRANCAIS, ANGLAIS, ITALIEN, ESPAGNOL, ALLEMAND) $&gt; &quot;);</span>
<span class="nc" id="L226">        Langue langue = Langue.valueOf(sc.nextLine());</span>
<span class="nc" id="L227">        System.out.print(&quot;Entrez une categorie (JEUNESSE, ROMAN, THEATRE, DISCOURS, DOCUMENTAIRE) $&gt; &quot;);</span>
<span class="nc" id="L228">        Categorie categorie = Categorie.valueOf(sc.nextLine());</span>
<span class="nc" id="L229">        System.out.println();</span>

<span class="nc" id="L231">        LivreAudio livreAudio = new LivreAudio(id, titre, duree, auteur, contenu, langue, categorie);</span>

<span class="nc" id="L233">        return livreAudio;</span>
    }

/**
 *  méthode privée removePlaylist qui permet de supprimer une playlist en récupérant des données saisies par l'utilisateur. Elle est appelée pour la commande &quot;-&quot;.
 */    
    private void removePlaylist(Scanner sc) {
<span class="nc" id="L240">        System.out.print(&quot;\nEntrez un id (integer) $&gt; &quot;);</span>
<span class="nc" id="L241">        int id = sc.nextInt();</span>
<span class="nc" id="L242">        sc.nextLine();</span>
        
<span class="nc bnc" id="L244" title="All 2 branches missed.">        for (int i = 0; i &lt; this.playlists.size(); i++) {</span>
<span class="nc bnc" id="L245" title="All 2 branches missed.">            if (this.playlists.get(i).getId() == id) {</span>
<span class="nc" id="L246">                  this.playlists.remove(i);  </span>
            }
        }
<span class="nc" id="L249">    }</span>

/**
 *  méthode privée addChansonToAlbum qui permet d'ajouter une chanson existante à un album en récupérant des données saisies par l'utilisateur. Elle est appelée pour la commande &quot;+&quot;.
 */        
    private void addChansonToAlbum(Scanner sc) {
<span class="nc" id="L255">        System.out.print(&quot;\nA quel album souhaitez-vous ajouter une chanson (id de l'album) ? $&gt; &quot;);</span>
<span class="nc" id="L256">        int idAlbum = sc.nextInt();</span>
<span class="nc" id="L257">        sc.nextLine();</span>

<span class="nc" id="L259">        int indexAlbum = 0;</span>
<span class="nc bnc" id="L260" title="All 2 branches missed.">        for (int i = 0; i &lt; this.albums.size(); i++) {</span>
<span class="nc bnc" id="L261" title="All 2 branches missed.">            if (this.albums.get(i).getId() == idAlbum) {</span>
<span class="nc" id="L262">                indexAlbum = i;</span>
<span class="nc" id="L263">                System.out.println(&quot;\nVoici l'album selectionné : &quot;);</span>
<span class="nc" id="L264">                System.out.println(this.albums.get(i));</span>
            }
        }

<span class="nc" id="L268">        System.out.println(&quot;\nVoici vos chansons actuelles :&quot;);</span>
<span class="nc" id="L269">        System.out.println(this.chansons);</span>
<span class="nc" id="L270">        System.out.print(&quot;\nQuelle chanson souhaitez-vous ajouter à l'album (id de la chanson) ? $&gt; &quot;);</span>
<span class="nc" id="L271">        int idChanson = sc.nextInt();</span>
<span class="nc" id="L272">        sc.nextLine();</span>

<span class="nc" id="L274">        Chanson chanson = null;</span>
<span class="nc bnc" id="L275" title="All 2 branches missed.">        for (int i = 0; i &lt; this.chansons.size(); i++) {</span>
<span class="nc bnc" id="L276" title="All 2 branches missed.">            if (this.chansons.get(i).getId() == idChanson) {</span>
<span class="nc" id="L277">                chanson = this.chansons.get(i);</span>
<span class="nc" id="L278">                System.out.println(&quot;\nVoici la chanson selectionnée : &quot;);</span>
<span class="nc" id="L279">                System.out.println(chanson);</span>
            }
        }
<span class="nc" id="L282">        this.albums.get(indexAlbum).addChanson(chanson);</span>

<span class="nc" id="L284">        System.out.println(&quot;\nVoici votre album mis à jour&quot;);</span>
<span class="nc" id="L285">        System.out.println(this.albums.get(indexAlbum));</span>
<span class="nc" id="L286">    }</span>

 /**
 * méthode privée commandsHandling qui gère les différentes commandes prises en charge par l'application.
 * @return elle retourne un booléen qui est = à vrai tant que l'utilisateur veut utiliser l'application et = à false si il souhaite la quitter et sortir du programme.
 */   
    private boolean commandsHandlding(Scanner sc, String cmd) throws Exception {
<span class="nc" id="L293">        boolean again = true;</span>

<span class="nc bnc" id="L295" title="All 14 branches missed.">        switch (cmd) {</span>
            case &quot;albums&quot;:
<span class="nc" id="L297">                Collections.sort(this.albums);</span>
<span class="nc" id="L298">                System.out.println(this.albums);</span>
<span class="nc" id="L299">                break;</span>
            case &quot;chansons&quot;:
<span class="nc" id="L301">                Collections.sort(this.chansons);</span>
<span class="nc" id="L302">                System.out.println(this.chansons);</span>
<span class="nc" id="L303">                break;</span>
            case &quot;livres audio&quot;:
<span class="nc" id="L305">                Collections.sort(this.livresAudio);</span>
<span class="nc" id="L306">                System.out.println(this.livresAudio);</span>
<span class="nc" id="L307">                break;</span>
            case &quot;playlists&quot;:
<span class="nc" id="L309">                Collections.sort(this.playlists);</span>
<span class="nc" id="L310">                System.out.println(this.playlists);</span>
<span class="nc" id="L311">                break;</span>
            case &quot;c&quot;:
<span class="nc" id="L313">                System.out.println(&quot;\nAjout d'une nouvelle chanson :&quot;);</span>
<span class="nc" id="L314">                Chanson chanson = this.newChanson(sc);</span>
<span class="nc" id="L315">                this.chansons.add(chanson);</span>
<span class="nc" id="L316">                System.out.println(chanson);</span>
<span class="nc" id="L317">                System.out.println(&quot;La chanson a bien été ajoutée.&quot;);</span>
<span class="nc" id="L318">                break;</span>
            case &quot;a&quot;:
<span class="nc" id="L320">                System.out.println(&quot;\nAjout d'un nouvel album :&quot;);</span>
<span class="nc" id="L321">                Album album = this.newAlbum(sc);</span>
<span class="nc" id="L322">                this.albums.add(album);</span>
<span class="nc" id="L323">                System.out.println(album);</span>
<span class="nc" id="L324">                System.out.println(&quot;L'album a bien été ajoutée.&quot;);</span>
<span class="nc" id="L325">                System.out.println(&quot;Pour ajouter des chansons existantes à cet album, utilisez la commande '+'&quot;);</span>
<span class="nc" id="L326">                break;</span>
            case &quot;+&quot;:
<span class="nc" id="L328">                System.out.println(&quot;\nVoici vos albums actuels :&quot;);</span>
<span class="nc" id="L329">                System.out.println(this.albums);</span>
<span class="nc" id="L330">                this.addChansonToAlbum(sc);</span>
<span class="nc" id="L331">                System.out.println(&quot;\nLa chanson a bien été ajoutée.&quot;);</span>
<span class="nc" id="L332">                break;</span>
            case &quot;l&quot;:
<span class="nc" id="L334">                System.out.println(&quot;\nAjout d'un nouveau livre audio :&quot;);</span>
<span class="nc" id="L335">                LivreAudio livreAudio = this.newLivreAudio(sc);</span>
<span class="nc" id="L336">                this.livresAudio.add(livreAudio);</span>
<span class="nc" id="L337">                System.out.println(livreAudio);</span>
<span class="nc" id="L338">                System.out.println(&quot;Le livre audio a bien été ajouté.&quot;);</span>
<span class="nc" id="L339">                break;</span>
            case &quot;p&quot;:
<span class="nc" id="L341">                System.out.println(&quot;\nCréation d'une nouvelle playlist:&quot;);</span>
<span class="nc" id="L342">                Playlist playlist = this.newPlaylist(sc);</span>
<span class="nc" id="L343">                this.playlists.add(playlist);</span>
<span class="nc" id="L344">                System.out.println(playlist);</span>
<span class="nc" id="L345">                System.out.println(&quot;La playlist a bien été créée.&quot;);</span>
<span class="nc" id="L346">                break;</span>
            case &quot;-&quot;:
<span class="nc" id="L348">                System.out.println(&quot;\nVoici vos playlists actuelles :&quot;);</span>
<span class="nc" id="L349">                System.out.println(this.playlists);</span>
<span class="nc" id="L350">                System.out.print(&quot;Quelle playlist souhaitez-vous supprimer (id) ? $&gt;&quot;);</span>
<span class="nc" id="L351">                this.removePlaylist(sc);</span>
<span class="nc" id="L352">                System.out.println(&quot;\nLa playlist a bien été supprimée.&quot;);</span>
<span class="nc" id="L353">                break;</span>
            case &quot;s&quot;:
<span class="nc" id="L355">                XmlWriter writer = new XmlWriter();</span>
<span class="nc" id="L356">                writer.save(this.chansons, this.livresAudio, this.albums, this.playlists);</span>
<span class="nc" id="L357">                System.out.println(&quot;Les fichiers XML ont été mis à jour.&quot;);</span>
<span class="nc" id="L358">                break;</span>
            case &quot;h&quot;: 
<span class="nc" id="L360">                this.menu();</span>
<span class="nc" id="L361">                break;</span>
            case &quot;q&quot;: 
<span class="nc" id="L363">                again = false;</span>
<span class="nc" id="L364">                break;</span>
            default:
<span class="nc" id="L366">                System.out.println(&quot;\nCette commande n'est pas prise en charge&quot;);</span>
<span class="nc" id="L367">                this.menu();</span>
                break;
        }
<span class="nc" id="L370">        return again;</span>
    }

 /**
 *  méthode privée menu qui gère l'affichage du menu de l'application et les différentes commandes disponibles.
 */ 
    private void menu() {
<span class="nc" id="L377">        System.out.println(&quot;\nVoici la liste des commandes disponibles : \n&quot;);</span>
<span class="nc" id="L378">        System.out.println(&quot;--------- AFFICHAGE ---------&quot;);</span>
<span class="nc" id="L379">        System.out.println(&quot;albums       : lister les albums &quot;);</span>
<span class="nc" id="L380">        System.out.println(&quot;chansons     : lister les chansons &quot;);</span>
<span class="nc" id="L381">        System.out.println(&quot;livres audio : lister les livres audio &quot;);</span>
<span class="nc" id="L382">        System.out.println(&quot;playlists    : lister les playlists &quot;);</span>
<span class="nc" id="L383">        System.out.println(&quot;\n--------- AJOUT / SUPPRESSION ---------&quot;);</span>
<span class="nc" id="L384">        System.out.println(&quot;c   :   Ajouter une nouvelle chanson &quot;);</span>
<span class="nc" id="L385">        System.out.println(&quot;a   :   Ajouter un nouvel album &quot;);</span>
<span class="nc" id="L386">        System.out.println(&quot;+   :   Ajouter une chanson existante à un album&quot;);</span>
<span class="nc" id="L387">        System.out.println(&quot;l   :   Ajouter un nouveau livre audio&quot;);</span>
<span class="nc" id="L388">        System.out.println(&quot;p   :   Créer une nouvelle playlist à partir de chansons et livres audio existants&quot;);</span>
<span class="nc" id="L389">        System.out.println(&quot;-   :   Supprimer une playlist&quot;);</span>
<span class="nc" id="L390">        System.out.println(&quot;s   :   Sauvegarder les playlists, albums, hansons et livres audios dans leurs fichiers xml respectifs&quot;);</span>
<span class="nc" id="L391">        System.out.println(&quot;\n--------- AUTRES ---------&quot;);</span>
<span class="nc" id="L392">        System.out.println(&quot;h   :   Afficher le détail des commandes&quot;);</span>
<span class="nc" id="L393">        System.out.println(&quot;q   :   Quitter le programme&quot;);</span>
<span class="nc" id="L394">    }</span>

 /**
 *  méthode privée run qui gère le fonctionnement de l'application en prenant en charge les commandes rentrées par l'utilisateur.
 */     
    private void run() throws Exception {
<span class="nc" id="L400">        Scanner sc = new Scanner(System.in);</span>

<span class="nc" id="L402">        boolean again = true;</span>
<span class="nc" id="L403">        String cmd = null;</span>

<span class="nc" id="L405">        this.menu();</span>
<span class="nc bnc" id="L406" title="All 2 branches missed.">        while (again) {</span>
<span class="nc" id="L407">            System.out.print(&quot;\nEntrez une commande $&gt; &quot;);</span>
<span class="nc" id="L408">            cmd = sc.nextLine();</span>
<span class="nc" id="L409">            again = this.commandsHandlding(sc, cmd);</span>
        }
<span class="nc" id="L411">        sc.close();</span>
<span class="nc" id="L412">    }</span>

 /**
 *  méthode publique principale main gère le fonctionnement global de l'application.
 */ 
    public static void main(String[] args) {

<span class="nc" id="L419">        System.out.println(&quot;\nBienvenue dans JMUSICHUB&quot;);</span>

        try {
<span class="nc" id="L422">            Main application = new Main();</span>
<span class="nc" id="L423">            application.run();</span>
<span class="nc" id="L424">        } catch (Exception e) {</span>
<span class="nc" id="L425">            System.err.println(e);</span>
<span class="nc" id="L426">        }</span>
<span class="nc" id="L427">        System.out.println(&quot;\nMerci d'avoir utilisé nos services.&quot;);</span>
<span class="nc" id="L428">        System.out.println(&quot;A bientot !\n&quot;);</span>
<span class="nc" id="L429">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>